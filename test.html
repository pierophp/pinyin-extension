<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chinese Pinyin Extension Test Page</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
          "Noto Sans SC", sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        line-height: 2;
        font-size: 18px;
      }
      h1 {
        color: #333;
        border-bottom: 2px solid #4caf50;
        padding-bottom: 10px;
      }
      .test-section {
        margin: 30px 0;
        padding: 20px;
        background-color: #f5f5f5;
        border-radius: 8px;
      }
      .test-section h2 {
        color: #4caf50;
        margin-top: 0;
      }
      ruby {
        ruby-position: over;
      }
      rt {
        font-size: 0.6em;
        color: #666;
      }
      .note {
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 12px;
        margin: 20px 0;
      }
      button {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
      }
      button:hover {
        background-color: #45a049;
      }
      #dynamic-content {
        margin-top: 20px;
        padding: 15px;
        background-color: #e3f2fd;
        border-radius: 4px;
        min-height: 50px;
      }
    </style>
  </head>
  <body>
    <h1>Chinese Pinyin Extension Test Page</h1>

    <div class="note">
      <strong>ğŸ“ Instructions:</strong> Load this extension in your browser. The
      pinyin for "ä¸Šå¸" and "æœ€åˆ" should be hidden, while other words should
      show their pinyin normally.
    </div>

    <div class="test-section">
      <h2>Test 1: Words in the hide list (should have NO pinyin)</h2>
      <p>
        <ruby><rb>ä¸Šå¸</rb><rt>shÃ ng dÃ¬</rt></ruby
        >åˆ›é€ äº†ä¸–ç•Œã€‚ åœ¨<ruby><rb>æœ€åˆ</rb><rt>zuÃ¬ chÅ«</rt></ruby
        >çš„æ—¶å€™ï¼Œä¸€åˆ‡éƒ½æ˜¯æ··æ²Œçš„ã€‚
      </p>
      <p>
        Expected: "ä¸Šå¸" and "æœ€åˆ" should appear without pinyin above them.
      </p>
    </div>

    <div class="test-section">
      <h2>Test 2: Words NOT in the hide list (should show pinyin)</h2>
      <p>
        æˆ‘<ruby><rb>å–œæ¬¢</rb><rt>xÇ huan</rt></ruby
        ><ruby><rb>å­¦ä¹ </rb><rt>xuÃ© xÃ­</rt></ruby
        ><ruby><rb>ä¸­æ–‡</rb><rt>zhÅng wÃ©n</rt></ruby
        >ã€‚ è¿™æ˜¯ä¸€ä¸ª<ruby><rb>ç¾ä¸½</rb><rt>mÄ›i lÃ¬</rt></ruby
        >çš„<ruby><rb>ä¸–ç•Œ</rb><rt>shÃ¬ jiÃ¨</rt></ruby
        >ã€‚
      </p>
      <p>Expected: All words should show their pinyin above them.</p>
    </div>

    <div class="test-section">
      <h2>Test 3: Mixed content</h2>
      <p>
        <ruby><rb>ä¸Šå¸</rb><rt>shÃ ng dÃ¬</rt></ruby
        >åœ¨<ruby><rb>æœ€åˆ</rb><rt>zuÃ¬ chÅ«</rt></ruby
        >åˆ›é€ äº†<ruby><rb>å¤©åœ°</rb><rt>tiÄn dÃ¬</rt></ruby
        >ã€‚ åæ¥ï¼Œ<ruby><rb>äººç±»</rb><rt>rÃ©n lÃ¨i</rt></ruby
        >å¼€å§‹åœ¨<ruby><rb>å¤§åœ°</rb><rt>dÃ  dÃ¬</rt></ruby
        >ä¸Š<ruby><rb>ç”Ÿæ´»</rb><rt>shÄ“ng huÃ³</rt></ruby
        >ã€‚
      </p>
      <p>
        Expected: Only "ä¸Šå¸" and "æœ€åˆ" should have no pinyin, others should
        show pinyin.
      </p>
    </div>

    <div class="test-section">
      <h2>Test 4: Dynamic content (tests MutationObserver)</h2>
      <button onclick="addDynamicContent()">Add Dynamic Ruby Content</button>
      <div id="dynamic-content"></div>
    </div>

    <script>
      function addDynamicContent() {
        const container = document.getElementById("dynamic-content");
        const newContent = document.createElement("p");
        newContent.innerHTML = `
                Dynamically added content: 
                <ruby><rb>ä¸Šå¸</rb><rt>shÃ ng dÃ¬</rt></ruby>è¯´ï¼Œè¦æœ‰å…‰ï¼
                åœ¨<ruby><rb>æœ€åˆ</rb><rt>zuÃ¬ chÅ«</rt></ruby>ï¼Œè¿˜æœ‰<ruby><rb>å¸Œæœ›</rb><rt>xÄ« wÃ ng</rt></ruby>ã€‚
            `;
        container.appendChild(newContent);
      }

      // Log for debugging
      console.log(
        "Test page loaded. You can also open DevTools to see extension logs."
      );
      console.log(
        "Click on any Chinese word (rb element) to see the dictionary popup!"
      );
    </script>

    <div class="note" style="margin-top: 30px">
      <strong>ğŸ” Dictionary Feature:</strong> Click on any Chinese word (the
      characters inside ruby tags) to open a dictionary popup. Make sure you've
      configured the API endpoint in
      <code>src/pages/content/index.tsx</code> (line 81).
    </div>
  </body>
</html>
