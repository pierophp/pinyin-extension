<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chinese Pinyin Extension Test Page</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
          "Noto Sans SC", sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        line-height: 2;
        font-size: 18px;
      }
      h1 {
        color: #333;
        border-bottom: 2px solid #4caf50;
        padding-bottom: 10px;
      }
      .test-section {
        margin: 30px 0;
        padding: 20px;
        background-color: #f5f5f5;
        border-radius: 8px;
      }
      .test-section h2 {
        color: #4caf50;
        margin-top: 0;
      }
      ruby {
        ruby-position: over;
      }
      rt {
        font-size: 0.6em;
        color: #666;
      }
      .note {
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 12px;
        margin: 20px 0;
      }
      button {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
      }
      button:hover {
        background-color: #45a049;
      }
      #dynamic-content {
        margin-top: 20px;
        padding: 15px;
        background-color: #e3f2fd;
        border-radius: 4px;
        min-height: 50px;
      }
    </style>
  </head>
  <body>
    <h1>Chinese Pinyin Extension Test Page</h1>

    <div class="note">
      <strong>📝 Instructions:</strong> Load this extension in your browser. The
      pinyin for "上帝" and "最初" should be hidden, while other words should
      show their pinyin normally.
    </div>

    <div class="test-section">
      <h2>Test 1: Words in the hide list (should have NO pinyin)</h2>
      <p>
        <ruby><rb>上帝</rb><rt>shàng dì</rt></ruby
        >创造了世界。 在<ruby><rb>最初</rb><rt>zuì chū</rt></ruby
        >的时候，一切都是混沌的。
      </p>
      <p>
        Expected: "上帝" and "最初" should appear without pinyin above them.
      </p>
    </div>

    <div class="test-section">
      <h2>Test 2: Words NOT in the hide list (should show pinyin)</h2>
      <p>
        我<ruby><rb>喜欢</rb><rt>xǐ huan</rt></ruby
        ><ruby><rb>学习</rb><rt>xué xí</rt></ruby
        ><ruby><rb>中文</rb><rt>zhōng wén</rt></ruby
        >。 这是一个<ruby><rb>美丽</rb><rt>měi lì</rt></ruby
        >的<ruby><rb>世界</rb><rt>shì jiè</rt></ruby
        >。
      </p>
      <p>Expected: All words should show their pinyin above them.</p>
    </div>

    <div class="test-section">
      <h2>Test 3: Mixed content</h2>
      <p>
        <ruby><rb>上帝</rb><rt>shàng dì</rt></ruby
        >在<ruby><rb>最初</rb><rt>zuì chū</rt></ruby
        >创造了<ruby><rb>天地</rb><rt>tiān dì</rt></ruby
        >。 后来，<ruby><rb>人类</rb><rt>rén lèi</rt></ruby
        >开始在<ruby><rb>大地</rb><rt>dà dì</rt></ruby
        >上<ruby><rb>生活</rb><rt>shēng huó</rt></ruby
        >。
      </p>
      <p>
        Expected: Only "上帝" and "最初" should have no pinyin, others should
        show pinyin.
      </p>
    </div>

    <div class="test-section">
      <h2>Test 4: Dynamic content (tests MutationObserver)</h2>
      <button onclick="addDynamicContent()">Add Dynamic Ruby Content</button>
      <div id="dynamic-content"></div>
    </div>

    <script>
      function addDynamicContent() {
        const container = document.getElementById("dynamic-content");
        const newContent = document.createElement("p");
        newContent.innerHTML = `
                Dynamically added content: 
                <ruby><rb>上帝</rb><rt>shàng dì</rt></ruby>说，要有光！
                在<ruby><rb>最初</rb><rt>zuì chū</rt></ruby>，还有<ruby><rb>希望</rb><rt>xī wàng</rt></ruby>。
            `;
        container.appendChild(newContent);
      }

      // Log for debugging
      console.log(
        "Test page loaded. You can also open DevTools to see extension logs."
      );
      console.log(
        "Click on any Chinese word (rb element) to see the dictionary popup!"
      );
    </script>

    <div class="note" style="margin-top: 30px">
      <strong>🔍 Dictionary Feature:</strong> Click on any Chinese word (the
      characters inside ruby tags) to open a dictionary popup. Make sure you've
      configured the API endpoint in
      <code>src/pages/content/index.tsx</code> (line 81).
    </div>
  </body>
</html>
